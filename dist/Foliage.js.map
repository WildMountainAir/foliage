{"version":3,"sources":["Foliage.js","webpack/bootstrap c88c81b44b5c04a4d89f","./src/index.js","./src/Foliage.js","./src/enumeration.js","external \"diode\"","external \"sprout-data\""],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequire","obj","__esModule","_Foliage","Foliage","state","keys","source","Diode","decorate","this","_state","_keys","concat","_source","_extends","Object","assign","target","i","arguments","length","key","prototype","hasOwnProperty","_enumeration","enumeration","_sprout","sprout","_Diode","isTrunk","query","get","_bubble","volley","commit","trunk","set","value","mod","undefined","assoc","remove","dissoc","valueOf","toJSON","allowed","values","map","find","filter","apply","forEach","_values","_len","args","Array","_key","require"],"mappings":"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","file":"Foliage.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _Foliage = __webpack_require__(1);\n\n\tvar Foliage = _interopRequire(_Foliage);\n\n\tmodule.exports = Foliage;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\t/**\n\t * Foliage\n\t */\n\n\tvar _enumeration = __webpack_require__(2);\n\n\tvar enumeration = _interopRequire(_enumeration);\n\n\tvar _sprout = __webpack_require__(4);\n\n\tvar sprout = _interopRequire(_sprout);\n\n\tvar _Diode = __webpack_require__(3);\n\n\tvar Diode = _interopRequire(_Diode);\n\n\tmodule.exports = Foliage;\n\n\tfunction Foliage(state, keys, source) {\n\t  Diode.decorate(this);\n\n\t  this._state = state;\n\t  this._keys = keys ? [].concat(keys) : [];\n\t  this._source = source || this;\n\t}\n\n\tFoliage.prototype = _extends({\n\n\t  state: function state() {\n\t    return this.isTrunk() ? this._state : this._source.state();\n\t  },\n\n\t  query: function query(key) {\n\t    return key ? this._keys.concat(key) : this._keys;\n\t  },\n\n\t  get: function get(key) {\n\t    return new Foliage(this.state(), this.query(key), this._source);\n\t  },\n\n\t  _bubble: function _bubble() {\n\t    this.volley();\n\n\t    if (this.isTrunk() === false) {\n\t      this._source._bubble();\n\t    }\n\t  },\n\n\t  commit: function commit(state) {\n\t    this.trunk()._state = state;\n\t    this._bubble();\n\t  },\n\n\t  set: function set(key, value) {\n\t    var mod = undefined;\n\n\t    if (arguments.length === 1) {\n\t      mod = sprout.assoc(this.state(), this.query(), key);\n\t    } else {\n\t      mod = sprout.assoc(this.state(), this.query(key), value);\n\t    }\n\n\t    this.commit(mod);\n\t  },\n\n\t  remove: function remove(key) {\n\t    var mod = sprout.dissoc(this.state(), this.query(key));\n\t    this.commit(mod);\n\t  },\n\n\t  trunk: function trunk() {\n\t    return this._source;\n\t  },\n\n\t  isTrunk: function isTrunk() {\n\t    return this._source === this;\n\t  },\n\n\t  valueOf: function valueOf() {\n\t    var state = this.state();\n\t    return this._keys.length ? sprout.get(state, this.query()) : state;\n\t  },\n\n\t  toJSON: function toJSON() {\n\t    return this.valueOf();\n\t  } }, enumeration);\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Enumeration\n\t * A stand alone mixin for collection methods\n\t */\n\n\t// Which methods should be pulled out of the array prototype?\n\t'use strict';\n\n\tvar allowed = ['map', 'reduce', 'filter', 'some', 'every'];\n\n\tvar enumeration = {\n\n\t  values: function values() {\n\t    var value = this.valueOf();\n\t    return Object.keys(value).map(function (key) {\n\t      return value[key];\n\t    });\n\t  },\n\n\t  find: function find() {\n\t    return this.filter.apply(this, arguments)[0];\n\t  }\n\n\t};\n\n\tallowed.forEach(function (key) {\n\t  enumeration[key] = function () {\n\t    var _values;\n\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\n\t    return (_values = this.values())[key].apply(_values, args);\n\t  };\n\t});\n\n\tmodule.exports = enumeration;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = require(\"diode\");\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = require(\"sprout-data\");\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** Foliage.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c88c81b44b5c04a4d89f\n **/","import Foliage from './Foliage'\n\nexport default Foliage\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","/**\n * Foliage\n */\n\nimport enumeration from './enumeration'\nimport sprout      from 'sprout-data'\nimport Diode       from 'diode'\n\nexport default Foliage\n\nfunction Foliage (state, keys, source) {\n  Diode.decorate(this)\n\n  this._state  = state\n  this._keys   = keys ? [].concat(keys) : []\n  this._source = source || this\n}\n\nFoliage.prototype = {\n\n  state() {\n    return this.isTrunk() ? this._state : this._source.state()\n  },\n\n  query(key) {\n    return key ? this._keys.concat(key) : this._keys\n  },\n\n  get(key) {\n    return new Foliage(this.state(), this.query(key), this._source)\n  },\n\n  _bubble() {\n    this.volley()\n\n    if (this.isTrunk() === false) {\n      this._source._bubble()\n    }\n  },\n\n  commit(state) {\n    this.trunk()._state = state\n    this._bubble()\n  },\n\n  set(key, value) {\n    let mod;\n\n    if (arguments.length === 1) {\n      mod = sprout.assoc(this.state(), this.query(), key)\n    } else {\n      mod = sprout.assoc(this.state(), this.query(key), value)\n    }\n\n    this.commit(mod)\n  },\n\n  remove(key) {\n    let mod = sprout.dissoc(this.state(), this.query(key))\n    this.commit(mod)\n  },\n\n  trunk() {\n    return this._source\n  },\n\n  isTrunk() {\n    return this._source === this\n  },\n\n  valueOf() {\n    let state = this.state()\n    return this._keys.length ? sprout.get(state, this.query()) : state\n  },\n\n  toJSON() {\n    return this.valueOf()\n  },\n\n  ...enumeration\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Foliage.js\n **/","/**\n * Enumeration\n * A stand alone mixin for collection methods\n */\n\n// Which methods should be pulled out of the array prototype?\nconst allowed = [ 'map', 'reduce', 'filter', 'some', 'every' ]\n\nlet enumeration = {\n\n  values() {\n    let value = this.valueOf()\n    return Object.keys(value).map(key => value[key])\n  },\n\n  find() {\n    return this.filter.apply(this, arguments)[0]\n  }\n\n}\n\nallowed.forEach(function(key) {\n  enumeration[key] = function(...args) {\n    return this.values()[key](...args)\n  }\n})\n\nexport default enumeration\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/enumeration.js\n **/","module.exports = require(\"diode\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"diode\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = require(\"sprout-data\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"sprout-data\"\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}